# VirtualTabs 國際化指南

VirtualTabs 現在支援多語言介面，提供繁體中文、簡體中文和英文三種語言選項。

## 🌍 支援的語言

| 語言 | 語言代碼 | 支援狀態 |
|------|----------|----------|
| 英文 | `en` | ✅ 完全支援 |
| 繁體中文 | `zh-tw` | ✅ 完全支援 |
| 簡體中文 | `zh-cn` | ✅ 完全支援 |

## 🔧 語言設定方式

### 方法一：VS Code 全域語言設定

1. 開啟 VS Code 設定 (`Cmd+,` 或 `Ctrl+,`)
2. 搜尋 "locale"
3. 找到 "Locale" 設定項目
4. 選擇想要的語言：
   - `en` - English
   - `zh-tw` - 繁體中文
   - `zh-cn` - 简体中文
5. 重新啟動 VS Code

### 方法二：透過命令面板

1. 開啟命令面板 (`Cmd+Shift+P` 或 `Ctrl+Shift+P`)
2. 輸入 "Configure Display Language"
3. 選擇想要的語言
4. 重新啟動 VS Code

### 方法三：編輯 settings.json

在 VS Code 設定檔案中新增：

```json
{
    "locale": "zh-tw"  // 或 "en", "zh-cn"
}
```

## 📋 國際化內容

VirtualTabs 的以下內容已完成國際化：

### 📦 Package.json 內容
- 擴充功能顯示名稱
- 擴充功能描述
- 所有指令標題
- 視圖容器和視圖名稱

### 💬 使用者介面訊息
- 所有系統提示訊息
- 錯誤和警告訊息
- 進度提示訊息
- 輸入對話框提示

### 🏷️ 群組名稱
- 內建群組名稱
- 自動分群前綴
- 新群組預設名稱
- 複製群組名稱後綴

## 🛠️ 開發者指南

### 新增語言支援

1. **建立語言檔案**：
   ```bash
   # 建立新語言檔案
   cp i18n/en.json i18n/[language-code].json
   cp package.nls.json package.nls.[language-code].json
   ```

2. **翻譯內容**：
   翻譯 `i18n/[language-code].json` 和 `package.nls.[language-code].json` 中的所有字串。

3. **測試語言**：
   在 VS Code 中設定對應的 locale 並重新載入擴充功能。

### 使用國際化字串

在程式碼中使用 `I18n.getMessage()` 方法：

```typescript
import { I18n } from './i18n';

// 基本用法
const message = I18n.getMessage('message.pleaseSelectGroup');

// 帶參數格式化
const formatted = I18n.getMessage('message.noFilesToOpen', groupName);

// 便利方法
const groupName = I18n.getGroupName(undefined, 1); // "新群組 1"
const builtInName = I18n.getBuiltInGroupName(); // "目前已開啟檔案"
```

### 字串鍵值規範

- 使用點號分隔的命名空間：`category.subcategory.key`
- 分類包括：
  - `group.*` - 群組相關
  - `message.*` - 使用者訊息
  - `input.*` - 輸入對話框
  - `progress.*` - 進度提示
  - `error.*` - 錯誤訊息

## 🔍 故障排除

### Q: 擴充功能沒有顯示正確的語言

**解決方案**：
1. 確認 VS Code 的 locale 設定正確
2. 重新載入 VS Code 視窗
3. 檢查是否有對應的語言檔案存在

### Q: 部分文字仍顯示英文

**可能原因**：
1. 該字串尚未國際化
2. 語言檔案中缺少對應的翻譯
3. 程式碼中直接使用硬編碼字串

**解決方案**：
1. 檢查 `i18n/[language].json` 是否包含該字串
2. 確認程式碼使用 `I18n.getMessage()` 而非硬編碼

### Q: 如何回復到英文介面

設定 VS Code locale 為 `en` 並重新載入即可。

## 📝 貢獻翻譯

我們歡迎社群貢獻更多語言的翻譯：

1. Fork 專案
2. 新增語言檔案（參考上述開發者指南）
3. 測試翻譯效果
4. 提交 Pull Request

歡迎貢獻以下語言的翻譯：
- 日文 (`ja`)
- 韓文 (`ko`)
- 德文 (`de`)
- 法文 (`fr`)
- 西班牙文 (`es`)
- 其他語言

---

## 🎯 語言對照表

### 主要功能翻譯對照

| 功能 | English | 繁體中文 | 简体中文 |
|------|---------|----------|----------|
| 新增分群 | Add Group | 新增分群 | 新增分组 |
| 重命名群組 | Rename Group | 重命名群組 | 重命名群组 |
| 複製群組 | Duplicate Group | 複製群組 | 复制群组 |
| 自動依副檔名分群 | Auto Group by Extension | 自動依副檔名分群 | 按扩展名自动分组 |
| 目前已開啟檔案 | Currently Open Files | 目前已開啟檔案 | 当前已打开文件 |
| 新群組 | New Group | 新群組 | 新群组 |
| 複本 | Copy | 複本 | 副本 |

### 常見訊息翻譯

| 訊息類型 | English | 繁體中文 | 简体中文 |
|----------|---------|----------|----------|
| 請先選取群組 | Please select a group first | 請先選取一個群組 | 请先选择一个群组 |
| 沒有檔案可分群 | No files to group | 沒有檔案可分群 | 没有文件可分组 |
| 名稱不可為空 | Name cannot be empty | 名稱不可為空 | 名称不能为空 |
| 名稱重複 | Name already exists | 名稱重複 | 名称重复 |

完整的翻譯對照請參考各語言檔案：
- [English (en.json)](./i18n/en.json)
- [繁體中文 (zh-tw.json)](./i18n/zh-tw.json)
- [简体中文 (zh-cn.json)](./i18n/zh-cn.json)
